CREATE TABLE depart2 (
	"id" VARCHAR2(200),
	"name" VARCHAR2(200),
	"instructor" VARCHAR2(200),
	 CONSTRAINT "DEPART_PK" PRIMARY KEY ("id")
)

CREATE TABLE student2 (
	"id" VARCHAR2(200),
	"name" VARCHAR2(200),
	"tel" VARCHAR2(200),
	"depart_id" VARCHAR2(200)
)

DROP TABLE student2

ALTER TABLE HR.student2 ADD CONSTRAINT student2_PK PRIMARY KEY ("id")

ALTER TABLE HR.STUDENT2 ADD CONSTRAINT FK_DEPART2 FOREIGN KEY ("depart_id") REFERENCES HR.DEPART2("id");

CREATE TABLE subject (
	"id" VARCHAR2(200) PRIMARY key,
	"title" VARCHAR2(200),
	"depart_id" VARCHAR2(200)
	CONSTRAINT "SUBJECT_PK" PRIMARY KEY ("id"),
	ALTER TABLE "HR"."SUBJECT" ADD CONSTRAINT "FK_DEPART2" FOREIGN KEY ("depart_id")
)

-- INSERT INTO DEPART  VALUES ('1','PARK','qwe')
-- INSERT INTO DEPART  VALUES ('2','KIM','qwerty')

SELECT * FROM DEPART

SELECT * FROM STUDENT

SELECT * FROM SUBJECT

DELETE FROM DEPART

DELETE FROM STUDENT

DELETE FROM SUBJECT

DROP TABLE DEPART 

DROP TABLE STUDENT  

DROP TABLE SUBJECT 

CREATE TABLE "HR"."BBS2" 
( "no" VARCHAR2(100), 
	"TITLE" VARCHAR2(100), 
	"CONTENT" VARCHAR2(100), 
	"WRITER" VARCHAR2(100), 
	 CONSTRAINT "BBS_PK22" PRIMARY KEY ("no"),
	 CONSTRAINT "FK_MEMBER22" FOREIGN KEY ("WRITER")
	  REFERENCES "HR"."MEMBER" ("ID")
) 

CREATE TABLE "HR"."BBS3" 
( "no" VARCHAR2(100), 
	"TITLE" VARCHAR2(100), 
	"CONTENT" VARCHAR2(100), 
	"WRITER" VARCHAR2(100)
) 

--pk제약조건 추가

ALTER TABLE HR.BBS3
ADD CONSTRAINT BBS3_PK PRIMARY KEY ("no")

--fk제약조건 추가

ALTER TABLE HR.BBS3 ADD CONSTRAINT FK_MEMBER33 FOREIGN KEY (WRITER) REFERENCES HR."MEMBER"(ID);

CREATE TABLE "MEMBER22"
AS SELECT * FROM MEMBER

INSERT INTO MEMBER22 VALUES ('banana2','banana2','banana2','banana2',sysdate)

INSERT INTO MEMBER22 VALUES ('banana2','banana2','banana2','banana2',sysdate, 'aaa')

SELECT * FROM member22

INSERT INTO BBS VALUES ('happy', 'happy day','apple',BBS_ID_SEQ.nextval)

INSERT INTO BBS VALUES ('qwe', 'qwery','ice',BBS_ID_SEQ.nextval)

CREATE TABLE product2 (
	id NUMBER(38,0),
	name varchar2(100)
)

CREATE sequence pd_seq
increment BY 1
START WITH 1

INSERT INTO product2
VALUES (pd_seq.nextval, 'shoes')

CREATE TABLE ORDERLIST (
	id number(38,0),
	title varchar2(100),
	price number(38,0)
)

CREATE SEQUENCE or_seq
INCREMENT BY 1
START WITH  1

INSERT INTO ORDERLIST VALUES (or_seq.nextval,'product',1000)

DELETE FROM ORDERLIST

SELECT * FROM ORDERLIST ORDER BY id

CREATE TABLE HR."MEMBER4"
(
	id varchar2(100) primary KEY,
	pw varchar2(100),
	name varchar2(100),
	tel varchar2(100),
	team DATE, --나중에 seq 사용
	company varchar2(100) DEFAULT 'multi' NOT NULL,
	location varchar2(100) unique
)

--emp테이블을 이용
--행단위 검색: selection
--열단위 검색: projection
--select  *  from emp;
--select  deptno  from  emp; 특정컬럼
--select  distinct  deptno    from emp;  중복제거 
--select  ename, sal * 12   as  “yearsal”  from  emp; as(alias, 별칭) 
--select  *  from  emp order by sal;  sal컬럼의 값 순서대로 정렬(오름차순)
--select  *  from  emp order by sal  desc;  sal컬럼의 값 순서대로 정렬(내림차순)

CREATE TABLE DEPT
(
DEPTNO NUMBER(2),
DNAME VARCHAR2(14 BYTE),
LOC VARCHAR2(13 BYTE)
)

CREATE TABLE EMP
(
EMPNO NUMBER(4),
ENAME VARCHAR2(10 BYTE),
JOB VARCHAR2(9 BYTE),
MGR NUMBER(4),
HIREDATE DATE,
SAL NUMBER(7,2),
COMM NUMBER(7,2),
DEPTNO NUMBER(2)
)

CREATE TABLE SALGRADE
(
GRADE NUMBER,
LOSAL NUMBER,
HISAL NUMBER
)

ALTER TABLE DEPT ADD (
CONSTRAINT PK_DEPT
PRIMARY KEY
(DEPTNO));

 

ALTER TABLE EMP ADD (
CONSTRAINT PK_EMP
PRIMARY KEY
(EMPNO));

 

ALTER TABLE EMP ADD (
CONSTRAINT FK_DEPTNO
FOREIGN KEY (DEPTNO)
REFERENCES DEPT (DEPTNO));

SELECT * FROM EMP

SELECT DISTINCT deptno FROM emp

SELECT ename, sal * 12 AS yearsal FROM emp

CREATE table dept_temp2
AS SELECT * FROM DEPT

UPDATE DEPT_TEMP2
SET loc = 'seoul'

SELECT * FROM DEPT_TEMP2

UPDATE DEPT_TEMP2 SET DNAME = 'DATABASE', LOC = 'BUSAN' WHERE DEPTNO=40

-- 정리문제

CREATE TABLE PRODUCT3
(	"ID" NUMBER(38,0),
"NAME" VARCHAR2(200),
"CONTENT" VARCHAR2(200),
"PRICE" VARCHAR2(200),
"COMPANY" VARCHAR2(200),
"IMG" VARCHAR2(200)
)

SELECT * FROM PRODUCT3 ORDER BY PRICE

SELECT NAME,CONTENT,PRICE FROM PRODUCT3 ORDER BY COMPANY DESC

SELECT DISTINCT COMPANY  FROM PRODUCT3

SELECT NAME, PRICE*5 AS PRICE5 FROM PRODUCT3

SELECT NAME, COMPANY  FROM PRODUCT3 WHERE PRICE = 5000

SELECT NAME,PRICE,COMPANY FROM PRODUCT3 WHERE PRICE BETWEEN 3000 AND 6000

SELECT COMPANY,NAME FROM PRODUCT3 WHERE NOT COMPANY  = 'c100'

SELECT NAME,PRICE FROM PRODUCT3 WHERE COMPANY IN('c100','c200')

SELECT * FROM PRODUCT3 WHERE NAME LIKE '%4'

SELECT * FROM PRODUCT WHERE CONTENT LIKE '%food%'

UPDATE PRODUCT3 SET CONTENT = 'SOLD OUT' WHERE PRICE = 5000

UPDATE PRODUCT3 SET IMG ='o.png', PRICE=10000 WHERE ID = 100 OR ID = 102

DELETE PRODUCT3 WHERE COMPANY = 'c100'

DROP TABLE PRODUCT3
